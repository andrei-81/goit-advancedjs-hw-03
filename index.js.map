{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["const apiKey = \"47925753-e7f436f37bf276331d4c00f65\"\nconst picturesUrl = \"https://pixabay.com/api/\"\nexport function findImages(searchString) {\n    const parameters = new URLSearchParams({\n        key: apiKey,\n        q: searchString, // .toString().trim().replaceAll(' ', '+'),\n        pretty: true,\n        orientation: \"horizontal\",\n        safesearch: true,\n        image_type: \"photo\"\n      });\n      \n    return fetch(`${picturesUrl}?${parameters}`)\n}","export function getPicturesHtml(picturesList) {\n    var imagesHtml = []\n    for (const {previewURL, largeImageURL, likes, views, comments, downloads, tags} of picturesList) {\n    imagesHtml.push(\n    `<div class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img class=\"gallery-image\" src=\"${previewURL}\" alt=\"${tags}\" />\n            <table class=\"description-table\">\n                <tr class=\"description-table-row table-header\">\n                    <td>Likes</td>\n                    <td>Views</td>\n                    <td>Comments</td>\n                    <td>Downloads</td>\n                </tr>\n                <tr class=\"description-table-row table-content\">\n                    <td>${likes}</td>\n                    <td>${views}</td>\n                    <td>${comments}</td>\n                    <td>${downloads}</td>\n                </tr>\n            </table>\n\n        </a>\n    </div>`)\n    }\n    return imagesHtml.join(' ')\n}\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\"\nimport { findImages } from \"./js/pixabay-api\";\nimport { getPicturesHtml } from \"./js/render-function\"\n\n\nconst button = document.querySelector('.search-button');\nconst inProgress = document.querySelector('.in-progress');\nconst searchString = document.querySelector('.search-string')\nconst gallery = document.querySelector('.gallery')\n\nvar lightbox = new SimpleLightbox('.gallery a', { captionDelay: 250, captionsData: 'alt' })\nconst iziToastParameters = {\n    messageSize: \"16px\",\n    messageColor: \"#FAFAFB\",\n    backgroundColor: \"#EF4040\",    \n    iconUrl: \"https://site-assets.fontawesome.com/releases/v6.7.2/svgs/sharp-light/octagon-xmark.svg\",\n    iconColor: \"#FAFAFB\",\n    maxWidth: 432,  \n    messageLineHeight: \"24px\",\n    position: \"topRight\",\n    \n}\n\nbutton.addEventListener('click', (event) => {\n    event.preventDefault()\n    gallery.innerHTML = ''\n    inProgress.innerHTML = `<span class=\"loader\"></span>`;\n    findImages(searchString.value).then((response) => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n        return response.json()\n    }).then((pictures) => {\n        inProgress.innerHTML = ''\n        if(pictures.total == 0){\n            iziToast.error({\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                ...iziToastParameters, \n            })\n        } else {\n            const picturesList = pictures.hits\n            const picturesHtml = getPicturesHtml(picturesList)\n            gallery.innerHTML = picturesHtml\n            lightbox.refresh()\n        }\n    })\n    .catch((error) => {iziToast.error({\n        title: \"Something bad happened\",\n        message: error,\n        ...iziToastParameters,\n    })\n    console.log(error)})\n    \n})\n\n\n"],"names":["apiKey","picturesUrl","findImages","searchString","parameters","getPicturesHtml","picturesList","imagesHtml","previewURL","largeImageURL","likes","views","comments","downloads","tags","button","inProgress","gallery","lightbox","SimpleLightbox","iziToastParameters","event","response","pictures","iziToast","picturesHtml","error"],"mappings":"iyBAAA,MAAMA,EAAS,qCACTC,EAAc,2BACb,SAASC,EAAWC,EAAc,CACrC,MAAMC,EAAa,IAAI,gBAAgB,CACnC,IAAKJ,EACL,EAAGG,EACH,OAAQ,GACR,YAAa,aACb,WAAY,GACZ,WAAY,OACpB,CAAO,EAEH,OAAO,MAAM,GAAGF,CAAW,IAAIG,CAAU,EAAE,CAC/C,CCbO,SAASC,EAAgBC,EAAc,CAC1C,IAAIC,EAAa,CAAE,EACnB,SAAW,CAAC,WAAAC,EAAY,cAAAC,EAAe,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,EAAW,KAAAC,CAAI,IAAKR,EACnFC,EAAW,KACX;AAAA,wCACoCE,CAAa;AAAA,8CACPD,CAAU,UAAUM,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAS5CJ,CAAK;AAAA,0BACLC,CAAK;AAAA,0BACLC,CAAQ;AAAA,0BACRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,WAKxB,EAEP,OAAON,EAAW,KAAK,GAAG,CAC9B,CClBA,MAAMQ,EAAS,SAAS,cAAc,gBAAgB,EAChDC,EAAa,SAAS,cAAc,cAAc,EAClDb,EAAe,SAAS,cAAc,gBAAgB,EACtDc,EAAU,SAAS,cAAc,UAAU,EAEjD,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAAE,aAAc,IAAK,aAAc,MAAO,EAC1F,MAAMC,EAAqB,CACvB,YAAa,OACb,aAAc,UACd,gBAAiB,UACjB,QAAS,yFACT,UAAW,UACX,SAAU,IACV,kBAAmB,OACnB,SAAU,UAEd,EAEAL,EAAO,iBAAiB,QAAUM,GAAU,CACxCA,EAAM,eAAgB,EACtBJ,EAAQ,UAAY,GACpBD,EAAW,UAAY,+BACvBd,EAAWC,EAAa,KAAK,EAAE,KAAMmB,GAAa,CAC9C,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,KAAM,CAC9B,CAAK,EAAE,KAAMC,GAAa,CAElB,GADAP,EAAW,UAAY,GACpBO,EAAS,OAAS,EACjBC,EAAS,MAAM,CACX,QAAS,2EACT,GAAGJ,CACnB,CAAa,MACE,CACH,MAAMd,EAAeiB,EAAS,KACxBE,EAAepB,EAAgBC,CAAY,EACjDW,EAAQ,UAAYQ,EACpBP,EAAS,QAAS,CACrB,CACT,CAAK,EACA,MAAOQ,GAAU,CAACF,EAAS,MAAM,CAC9B,MAAO,yBACP,QAASE,EACT,GAAGN,CACX,CAAK,EACD,QAAQ,IAAIM,CAAK,CAAC,CAAC,CAEvB,CAAC"}